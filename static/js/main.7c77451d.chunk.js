(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{17:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c,i,a,o,r,s,j,b,d,l,u,O,h,p=e(0),x=e.n(p),m=e(9),f=e.n(m),g=(e(17),e(4)),v=e(2),y=e(3),S=e(1),w=y.a.div(c||(c=Object(v.a)(["\n  width: 320px;\n  margin: 0 auto;\n"]))),k=y.a.h1(i||(i=Object(v.a)(["\n  color: #333;\n"]))),z=y.a.form(a||(a=Object(v.a)(["\n  margin-top: 16px;\n"]))),J=y.a.textarea(o||(o=Object(v.a)(["\n  display: block;\n  width: 100%;\n"]))),A=y.a.button(r||(r=Object(v.a)(["\n  margin-top: 8px;\n"]))),D=y.a.div(s||(s=Object(v.a)(["\n  margin-top: 16px;\n"]))),E=y.a.div(j||(j=Object(v.a)(["\n  border: 1px solid black;\n  padding: 4px;\n  border-radius: 12px;\n\n  & + & {\n    margin-top: 8px;\n  }\n"]))),M=y.a.div(b||(b=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.4);\n  padding-bottom: 8px;\n"]))),N=y.a.div(d||(d=Object(v.a)(["\n  color: rgba(23, 78, 55, 1);\n  font-size: 14px;\n"]))),_=y.a.div(l||(l=Object(v.a)([""]))),B=y.a.div(u||(u=Object(v.a)(["\n  margin-top: 8px;\n  font-size: 16px;\n"]))),C=y.a.div(O||(O=Object(v.a)(["\n  margin-top: 16px;\n  color: red;\n"]))),F=y.a.div(h||(h=Object(v.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function I(n){var t=n.author,e=n.time,c=n.children;return Object(S.jsxs)(E,{children:[Object(S.jsxs)(M,{children:[Object(S.jsx)(N,{children:t}),Object(S.jsx)(_,{children:e})]}),Object(S.jsx)(B,{children:c})]})}var L=function(){var n=Object(p.useState)(null),t=Object(g.a)(n,2),e=t[0],c=t[1],i=Object(p.useState)(null),a=Object(g.a)(i,2),o=a[0],r=a[1],s=Object(p.useState)(""),j=Object(g.a)(s,2),b=j[0],d=j[1],l=Object(p.useState)(),u=Object(g.a)(l,2),O=u[0],h=u[1],x=Object(p.useState)(!1),m=Object(g.a)(x,2),f=m[0],v=m[1];function y(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){r(n.message)}))}return Object(p.useEffect)((function(){y()}),[]),Object(S.jsxs)(w,{children:[f&&Object(S.jsx)(F,{children:"\u8f09\u5165\u4e2d..."}),Object(S.jsx)(k,{children:"\u7559\u8a00\u677f"}),Object(S.jsxs)(z,{onSubmit:function(n){n.preventDefault(),f||(v(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"emory",body:b})}).then((function(n){return n.json()})).then((function(n){v(!1),0!==n.ok?(d(""),y()):h(n.message)})).catch((function(n){v(!1),h(n.message)})))},children:[Object(S.jsx)(J,{value:b,onChange:function(n){d(n.target.value)},onFocus:function(){h(null)},rows:10}),Object(S.jsx)(A,{children:"\u9001\u51fa\u7559\u8a00"}),O&&Object(S.jsx)(C,{children:O})]}),o&&Object(S.jsxs)(C,{children:["Something went wrong... ",o.toString()]}),e&&0===e.length&&Object(S.jsx)("div",{children:"No Messages here..."}),Object(S.jsx)(D,{children:e&&e.map((function(n){return Object(S.jsx)(I,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})};f.a.render(Object(S.jsx)(x.a.StrictMode,{children:Object(S.jsx)(L,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.7c77451d.chunk.js.map